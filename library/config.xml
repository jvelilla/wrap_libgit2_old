<?xml version="1.0"?>
<ewg_config name="libgit2">

  <rule_list>

	<rule>
 		<function name="git_repository_open">
		 	<parameter name="out"/>
	 	</function>
	 </rule>

	 <rule>
	 	<function_address name="git_repository_open"/>
	 </rule>
		
    <!-- Ignore everything that starts with an underscore. -->
    <rule>
      <match>
	<identifier name="_.*"/>	
      </match>
       <wrapper type="none">
      </wrapper>
    </rule>

    <!-- The next rule specify what headers should be wrapped -->
    <!-- On libgit2 initialization functions are defined in common.h header -->
    <!-- We use a common class name for functions -->			
    <rule>
      <match>
         <!--header name=".*common.h"/-->
	 <identifier name="git_libgit2_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	<class_name name="LIBGIT2_INITIALIZER"/>
      </wrapper>
    </rule>

   <!-- The next rule specify the errors functions to be wrapped -->
   <!-- We use a common class name for functions -->			
    <rule>
      <match>
	 <identifier name="git_error_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	<class_name name="LIBGIT2_ERROR"/>
      </wrapper>
    </rule>
    <rule>
      <match>
	 <identifier name="git_error_.*"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>

   <!-- The next rule specify the repository functions to be wrapped -->
   <!-- We use a common class name for functions -->			
    <rule>
      <match>
	 <identifier name="git_repository_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	<class_name name="LIBGIT2_REPOSITORY"/>
      </wrapper>
    </rule>
    <rule>
      <match>
	 <identifier name="git_repository"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>

    <!-- The next rule specify the repository enums to be wrapped -->	
    <rule>
      <match>
	 <identifier name="git_repository_init.*"/>
	 <type name="enum"/>	
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>
   <rule>
      <match>
	 <identifier name="git_repository_open.*"/>
	 <type name="enum"/>	
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>

    <!-- The next rule specify the clone definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_clone.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	<class_name name="GIT_CLONE"/>	
      </wrapper>
    </rule>

    <!-- The next rule specify the git_signature definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_signature"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>
    <!-- The next rule specify the git_signature functions definitions to be wrapped -->
    <rule>
      <match>
	<identifier name="git_signature_.*"/>
	<type name="function"/>	
      </match>
       <wrapper type="default">
	<class_name name="GIT_SIGNATURE"/>	
      </wrapper>
    </rule>


    <!-- The next rule specify the git_index definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_index"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>

    <!-- The next rule specify the git_index functions definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_index_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	 <class_name name="GIT_INDEX"/>	
      </wrapper>
    </rule>

    <!-- The next rule specify the git_oid definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_oid"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>

    <!-- The next rule specify the git_tree definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_tree"/>
      </match>
       <wrapper type="default">
      </wrapper>
    </rule>
 
    <!-- The next rule specify the git_tree functions definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_tree_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	 <class_name name="GIT_TREE"/>	
      </wrapper>
    </rule>
	
   <!-- The next rule specify the git_commit functions definitions to be wrapped -->
    <rule>
      <match>
	 <identifier name="git_commit_.*"/>
	 <type name="function"/>	
      </match>
       <wrapper type="default">
	 <class_name name="GIT_COMMIT"/>	
      </wrapper>
    </rule>


     <!-- And the rest should be ignored -->
    <rule>
      <match>
      </match>
       <wrapper type="none">
      </wrapper>
    </rule>

  </rule_list>

</ewg_config>
